第三十八章

# 微分学

## 38.1方向导数、总导数

本章回顾了微分学的基本概念。首先，我们回顾了赋范仿射空间中函数f:r→fr导数的定义。基本。接下来，我们定义方向导数-

给出了一个函数f:e的tives和全导数→导数的性质，包括链规则。我们展示了如何用雅可比矩阵表示导数。阐述了中值定理、隐函数定理和反函数定理。定义了差异同素和局部差异同素。定义了相切空间。高阶导数的定义，以及黑森。施瓦兹引理（关于粒子的交换性）被陈述。本文叙述了泰勒公式的几种版本，并给出了一个著名的公式，该公式是由法阿·迪·布鲁诺提出的。

我们首先回顾了实值函数导数的概念，它的域是r的开子集。

设f:a→r，其中a是r的非空开子集，并考虑任意a∈a。f在a的导数概念背后的主要思想，用f0（a）表示，是围绕a线性近似的（即，在地图u a包含a的一些小开集中），函数f是

x 7→f（a）+f0（a）（x−a）。

20世纪60年代初Dieudonn'e指出，如果v是维度1的向量空间，那么v上定义的线性形式的空间v_与标量场之间存在双射，这是一个“不幸的意外”。因此，实值函数f在实数的开子集a上定义的导数可以定义为标量f0（a）（对于任何a∈a）。但只要f是几个参数的函数，导数的标量解释就会失效。

一千三百零九

将导数的概念推广到更复杂的空间的一部分困难是给出一个适当的线性近似概念。关键的想法是使用线性地图。这可以用矩阵来实现，但这既不缩短也不简化证明。事实上，这通常是相反的。

我们承认，作为线性映射，在两个范数（仿射）空间e和f之间的函数f:e→f的点a上，导数概念的更内在的定义需要更大的努力去把握，但我们认为这个定义的优点超过了它的抽象程度。特别是，它给出了函数f:m m（r）→m n（r）的导数的清晰概念，从m×m矩阵定义为n×n矩阵（许多定义使用了关于确实有意义的矩阵的偏导数）。但更重要的是，导数作为线性映射的定义清楚地表明空间e或空间f是无限维并不重要。这在优化理论中很重要，因为问题解的自然空间通常是一个无限维函数空间。当然，要进行计算，需要选择有限的基并使用雅可比矩阵，但这是另一回事。

现在让我们回顾一下实值函数导数的形式定义。

定义38.1.设a为r的任意非空开子集，设a∈a，对于任意函数f:a→r，f在a∈a处的导数是极限（如果存在的话）

，

式中U=H∈R A+H∈A，H=06。该限值用f0（a）或d表示。

如果f0（a）存在于每一个a∈a，我们就说f在a上是可微的。在这种情况下，图a 7→f0（a）用f0、df或dxdf表示。

注意，由于假设a是打开的，a−a也是打开的，并且由于函数h 7→a+h是连续的，u是该函数下a−a的逆图像，u确实是打开的，并且定义是有意义的。

我们也可以定义f0（a）如下：有一些函数，例如，

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.gif)

当a+h∈a，其中）对所有h定义为a+h∈a时，以及

.

注：我们还可以定义f在左边a的导数和f在右边a的导数。例如，我们说左边a处f的导数是f0（a-）的极限（如果存在的话）。

，

式中U=H∈R A+H∈A，H<0。

如果定义38.1中的函数f在a处有导数f0（a），那么它在a处是连续的。如果f在a上是可微的，那么f在a上是连续的。可微函数的组成是可微的。

注：函数f在iff上有一个导数f0（a），在a左边有f的导数，在a右边有f的导数，如果它们相等。另外，如果左边a处f的导数存在，那么f在左边a处是连续的（同样在右边）。

我们想把导数的概念推广到函数f:a→f，其中e和f是赋范仿射空间，a是e的一些非空开子集，第一个困难是理解商

.

如果e和f是赋范仿射空间，那么假设与e相关的向量空间表示为→−e，与f相关的向量空间表示为→−f，这是非常方便的。

因为是一个赋范仿射空间，所以很容易理解f（a+h）−f（a）：我们可以将其定义为f（a）f（a+h），这是将f（a）转换为f（a+h）的唯一矢量。但是我们应该注意，这个量是一个向量，而不是一个点。然而，在定义衍生产品时，用F（A+H）−F（A+−H）来表示→−F−−−−−−（A）F（A+−→H）更为有趣。因此，在这一章的其余部分，向量a b将用b a表示，但是现在，我们如何用向量定义商呢？好吧，我们没有！

→−第一种可能性是考虑方向导数−∈相对于向量∈U=06

在E中，我们可以考虑向量f（a+tu）f（a），其中t r（或t c）。现在，

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.gif)

有道理。其思想是，在e中，形式a+tu的点在某个小区间内表示t

）在包含a的中形成一个线段[r，s]，并且

该线段定义了f（a）上的一个小曲线段。该曲线段由图t 7→f（a+tu）从[r，s]到f定义，方向导数duf（a）定义了该曲线a处切线的方向；见图38.1。这就引出了以下定义。

定义38.2.设e和f为两个赋范仿射空间，设a为e的非空开子集，设f:a→f为任意函数。对于任何a∈a，对于→−e中的任何u=06，f在w.r.t.的方向导数。用duf（a）表示的向量u是极限（如果

存在）

哪里

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image006.gif)

图38.1：设f:r2→r。f的图形是r3中的桃面，t 7→f（a+tu）是连接f（a）到f（a+tu）的嵌入橙色曲线。那么duf（a）是粉红色切线在u方向的斜率。

由于图t 7→a+t u是连续的，并且由于a−a是打开的，因此上述图下a−a的逆图像u是打开的，并且定义38.2中的限制定义是有意义的。

注：由于极限的概念是纯拓扑的，所以方向导数的存在性和值与e和f中的范数的选择无关，只要它们是等价范数。

方向导数有时被称为g_ateaux导数。

在e=r和f=r的特殊情况下，我们让u=1（即实数1，视为一个矢量），可以立即验证d1f（a）=f0（a），在定义38.1的意义上。当e=r（或e=c）和f是任意赋范向量空间时，导数d1f（a）也用f0（a）表示，为导数概念提供了适当的推广。

然而，当e的维数大于等于2时，方向导数存在一个严重的问题，即它们的定义不够统一。事实上，没有理由相信方向导数w.r.t.所有非零向量u都有共同点。因此，一个函数可以在a上具有全方向导数，但在a上不连续。两个函数可以在一些开放集上具有全方向导数，但它们的组成可能不连续。

例38.1。设f:r2→r为

如果（x，y）=（0,0）

x，y 6

如果（x，y）=（0,0），则为0。

对于任何u=06，我们有

，

以便

duf（0,0）=

因此，所有u=0.6都存在duf（0,0）

另一方面，如果存在df（0,0），它将是一个线性映射df（0,0）：r2→r，由一个行矩阵（αβ）表示，我们将得到duf（0,0）=df（0,0）（u）=αh+βk，但duf（0,0）的显式公式不是线性的。事实上，函数f在（0,0）不是连续的。例如，在抛物线上，当我们接近抛物线的原点时，极限是，但f（0,0）=0。

为了避免方向导数的问题，我们引入了一个更统一的概念。

给定两个赋范空间e和f，回想一下线性映射f:e→f是连续的，如果有一个常数c≥0，那么

kf（u）k≤c kuk表示所有u∈e。

定义38.3.设e和f为两个赋范仿射空间，设a为e的非空开子集，设f:a→f为任意函数。对于任何一个，如果有一个线性连续映射l:e→f和一个函数，我们说f在a∈a上是可微的，这样

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.gif)

对于每一个a+h∈a，其中）是为每一个h定义的，这样a+h∈a和

，

式中U=H∈→−E A+H∈A，H 6=0。线性映射L用df（a）、dfa、df（a）、dfa或f0（a）表示，称为f的echet导数、或导数、或全导数、或全微分、或微分；见图38.2。

由于来自的图H 7→−a+h是连续的，并且由于→−a在e中是打开的，因此上面图下a的逆图像u在e中是打开的，可以这样说

.

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.gif)

图38.2：设f:r2→r。f的图形是r3中的绿色表面。线性映射L=df（a）是粉红色的切平面。对于任何向量h∈r2，l（h）近似等于f（a+h）−f（a）。注意，l（h）也是与曲线t→7 f（a+tu）相切的方向。

注意，对于每个h∈u，since）是唯一确定的，因为

，

在这个定义中，值（0）绝对不起作用。f可微的条件等于

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image018.gif)

当h=06接近0时，当a+h∈a时，假设（0）=0并不有害，我们从现在开始假设。

同样，我们注意到，在a处f的导数df（a）提供了f的仿射近似值，局部在a附近。

评论：

(1)    由于极限概念是纯拓扑的，所以导数的存在性和值与e和f中范数的选择无关，只要它们是等价范数。

(2)    如果h：（−a，a）→r是一个实值函数，定义在包含0的开放区间上，我们认为h是t→0的o（t），我们写h（t）=o（t），如果

.

用这个符号（小O符号），函数f在iff上是可微的。

F（A+H）−F（A）−L（H）=O（KHK）

也写为

f（a+h）=f（a）+l（h）+o（khk）。

下面的命题表明，我们的新定义与方向导数的定义是一致的，连续线性映射L是唯一的，如果它存在的话。

提案38.1.设e和f为两个赋范仿射空间，设a为e的非空开子集，设f:a→f为任意函数。对于任何a∈a，如果定义了df（a），那么6→−f在a处是连续的，f对于e中的每个u=0都有方向导数duf（a），而且，

duf（a）=df（a）（u）。

证据。如果L=df（a）存在，那么对于任意非零向量u∈→−e，因为a是开的，对于任意t∈r−0（或t∈c−0）足够小，a+tu∈a，那么

这意味着

因为lim=0，我们推断

L（u）=df（a）（u）=duf（a）。

因为

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image020.gif)

对于所有h，如khk足够小，l是连续的，lim=0，我们得到limh7→0 f（a+h）=f（a），也就是说，f在a是连续的。

当e是有限维时，每一个线性映射都是连续的（见命题8.8或定理36.58），这个假设是多余的。

需要注意的是，f在a处的导数df（a）是从矢量空间→−e到矢量空间→−f的连续线性映射，而不是从仿射空间e到仿射空间f的函数。

虽然这可能不是很明显，但是要求线性映射dfa连续的原因是要确保如果函数f在a上可微，那么它在a上是连续的。这当然是可微函数的理想性质。在有限维中，这是成立的，但在无限维中，情况并非如此。下面的命题表明，如果dfa存在于a，并且f在a是连续的，那么dfa必须是连续映射。如果函数在a上是可微的，那么它是连续的，如果线性映射dfa是连续的。我们选择在可微函数的定义中包含第二个条件，而不是第一个条件。

提案38.2.设e和f为两个赋范仿射空间，设a为e的非空开子集，设f:a→f为任意函数。对于任意a∈a，如果定义了dfa，则f在iff处是连续的，dfa是连续的线性映射。

证据。命题38.1表明，如果定义了dfa且连续，则f在a处是连续的。相反，假设dfa存在，且f在a处是连续的。由于f在a处是连续的，且自dfa存在以来，对于任何η>0，存在一些ρ，其中0<ρ<1，因此，如果khk≤ρ，则

，

和

，

所以我们有

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image022.gif)

证明了DFA在0处是连续的。根据36.56号提案，DFA是一个连续线性图。

例如，考虑图f:mn（r）→mn（r），由

f（a）=a>a−i，

其中，mn（r）配备了任何矩阵范数，因为它们都是等效的；例如，

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image023.gif)

选择frobinius norm，kakf=ptr（a>a）。我们声称

df（a）（h）=a>h+h>a，所有a和h单位为mn（r）。

我们有

F（A+H）−F（A）−（A>H+H>A）=（A+H）>（A+H）−I−（A>A−I）−A>H−H>A=A>A+A>H+H>A+H>H−A>A−A>H−H>A=H>H。

接下来是

，

既然我们的标准是弗罗贝尼乌斯标准，

，

所以

，

我们得出结论

df（a）（h）=a>h+h>a。

如果每个a∈a都存在df（a），我们得到一个映射

D

在a上称为f的导数，也表示为→–→––––df。回想一下，L（→−E；→−F）表示从E到F的所有连续映射的向量空间。

我们现在考虑一些关于导数的标准结果。

提案38.3.给定两个赋范仿射空间e和f，如果f:e→f是一个常数函数，那么df（a）=0，对于每一个a∈e。如果f:e→f是一个连续的仿射映射，那么d，对于每一个a∈e，与f关联的线性映射。

证据。直截了当。

提案38.4.给定赋范仿射空间e和赋范向量空间f，对于任意两个函数f，g:e→f，对于每一个a∈e，如果df（a）和dg（a）存在，则d（f+g）（a）和

d（λf）（a）存在，且

d（f+g）（a）=df（a）+dg（a），d（λf）（a）=λdf（a）。

证据。直截了当。

给定两个赋范向量空间（e1，k k1）和（e2，k k2），有三个自然和等效规范可用于将e1×e2转化为赋范向量空间：

\1.    K（U1，U2）K1=Ku1K1+Ku2K2。

\2.    k（u1，u2）k2=（ku1k21+ku2k22）1/2.

\3.    k（u1，u2）k∞=最大值（ku1k1，ku2k2）。

我们通常选择第一个标准。如果e1、e2和f是三个赋范向量空间，那么回想一下双线性映射f:e1×e2→f是连续的，如果存在一些常数c≥0，那么

kf（u1，u2）k≤c ku1k1 ku2k2，对于所有u1∈e1和所有u2∈e2。

提案38.5。给定三个赋范向量空间e1、e2和f，对于任意连续双线性映射f:e1×e2→f，对于每一（a，b）∈e1×e2，df（a，b）存在，对于每一u∈e1和v∈e2，

df（a，b）（u，v）=f（u，b）+f（a，v）。证据。因为f是双线性的，简单的计算意味着

F（（A，B）+（U，V））−F（A，B）−（F（U，B）+F（A，V））=F（A+U，B+V）−F（A，B）−F（U，B）−F（A，V）

=F（A+U，B）+F（A+U，V）−F（A，B）−F（U，B）−F（A，V）=F（A，B）+F（U，B）+F（A，V）+F（U，V）−F（A，B）−F（U，B）−F（A，V）=F（U，V）。

我们定义

，

观察F的连续性意味着

.

因此

，

这反过来意味着

.

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image024.gif)

我们现在陈述了非常有用的链式法则。

定理38.6.给定三个赋范仿射空间e、f和g，设a为e中的开集，设b为f中的开集。对于任意函数f:a→f和g:b→g，使f（a）b，对于任意a∈a，如果df（a）存在且dg（f（a））存在，则d（g f）（a）存在，并且

d（g_f）（a）=dg（f（a））df（a）。

证据。因为f在a处可微，g在b=f（a）处可微，因此

0<η<1有一些ρ>0，这样对于所有的s，t，如果ksk≤ρ和ktk≤ρ，那么

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image026.gif)

使用和。因为DFA和DGB是连续的，所以我们有

kdfa（s）k≤kdfakksk和kdgb（t）k≤kdgbkkktk，

从1开始，这意味着

.

因此，如果ksk<ρ/（kdfak+1），我们有

（1）

和

.（2）

既然b=f（a），用上面的公式

.

现在（1）和（2）我们已经

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image028.gif)

因此，如果我们写作），我们证明了

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image030.gif)

其中，证明了dgb dfa是g f在a的导数，因为dfa和dgb是连续的，所以dgb dfa也是连续的，这证明了我们的命题。

定理38.6有许多有趣的结果。我们提到了两个推论。

提案38.7.给定三个赋范仿射空间e、f和g，对于e中的任何开子集a，对于任意a∈a，让f:a→f使df（a）存在，并让g:f→g是连续仿射映射。那么，d（g_f）（a）存在，并且

d（g_f）（a）=→−g_df（a）、

其中→−G是与仿射图G相关联的线性图。

提案38.8.给定两个赋范仿射空间e和f，让a是e中的一些开子集，让b是f中的一些开子集，让f:a→b是a到b的一个双射，假设df存在于a上，df-1存在于b上，那么，对于每一个a∈a，

df−1（f（a））=（df（a））−1.

命题38.8的显著结果是，两个向量空间→−e和→−f具有相同的维数。换句话说，一个局部性质，即在e的开集a和f的开集b之间存在一个双射f，这样f在a和f−1上是可微的，在b上是可微的，这意味着一个全局性质，即两个向量空间→−e和→−f具有相同的维数。

让我们再提两条关于一直使用的衍生工具的规则。

设：gl（n，c）→mn（c）为（a）=a−1在可逆n×n矩阵上定义的函数（反演）。

观察到gl（n，c）确实是复数n×n矩阵的赋范向量空间mn（c）的开子集，因为它的补是满足det（a）=0的矩阵a∈mn（c）的闭集。然后我们有了

D_a（h）=−a−1ha−1，

对于所有a∈gl（n，c）和所有h∈mn（c）。

为了证明前面的一行，注意对于具有足够小范数的h，我们有

（A+H）−（A）+A−1h a−1=（A+H）−1−A−1+A−1ha−1

=（A+H）−1[I−（A+H）A−1+（A+H）A−1h a−1]=（A+H）−1[I−I−ha−1+ha−1+ha−1ha−1]=（A+H）−1ha−1ha−1。

因此，我们得到

，

从那以后

，

很明显，lim=0，这证明

D_a（h）=−a−1ha−1。

特别是，如果a=i，则d_i（h）=-h。

接下来，如果f:mn（c）→mn（c）和g:mn（c）→mn（c）是可微矩阵函数，则d（fg）a（b）=dfa（b）g（a）+f（a）dga（b），

对于所有a，b∈mn（c）。这就是产品规则。

当e是有限维n时，对于e的任何帧（a0，（u1，…，un）），其中（u1，…，un）是→−e的基础，我们可以定义相对于基（u1，…，un）中向量的方向导数（实际上，我们也可以对无限帧这样做）。这样，我们得到偏导数的定义，如下所示。

定义38.4.对于任意两个赋范仿射空间e和f，如果e是有限维n，对于每一帧（a0，（u1，…，un）），对于每一个a∈e，对于每一个函数f:e→f，方向导数dujf（a）（如果存在）被称为f相对于帧（a0，（u1，…，un））的偏导数。偏导数dujf（a）也表示为

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image032.gif)

表示法）表示一个偏导数，尽管习惯上

莱布尼兹是一个“逻辑淫秽”，事实上，变量xj与形式定义没有任何关系。这只是另一个传统难以颠覆的情况！

我们现在考虑赋范仿射空间f是有限直和f=（f1，b1）····（fm，bm）的情况。

提案38.9.给定赋范仿射空间e和f=（f1，b1）······（fm，bm），给定e的任意开子集a，对于任意a∈a，对于任意函数f:a→f，让f=（f1，…，fm），df（a）存在，如果每个df（a）存在，并且

df（a）=in1 df1（a）+····+inm dfm（a）。

证据。观察f（a+h）−f（a）=（f（a+h）−b）−（f（a）−b），其中b=（b1，…，b→−m），因此，在处理导数时，df（a）等于dfb（a），其中fb:e→f定义为fb（x）=f（x）−b，对于每x∈e，我们可以处理向量空间f inste。仿射空间f的ad。这个命题是定理的一个简单应用。

38.6。

在特殊情况下，对于任何框架，f是有限维m的赋范仿射空间。

f的（b0，（v1，…，vm）），其中（v1，…，vm）是→−f的基础，每个点x∈f可以唯一地表示为

X=b0+x1v1+····+xmvm，

其中（x1，…，xm）∈km，帧中x的坐标（b0，（v1，…，vm））（其中k=r或k=c）。因此，假设fi是具有自然结构的标准范数仿射空间k，我们注意到f与直接和f=（k，0）···（k，0）同构。然后，

每个函数f:e→f由m函数（f1，…，fm）表示，其中fi:e→k

（其中k=r或k=c），以及

F（x）=b0+f1（x）v1+····+fm（x）vm，

对于每一个x∈e，下面的命题是命题38.9的直接推论。

提案38.10。对于任意两个赋范仿射空间e和f，如果f是有限维m，对于f的任意帧（b0，（v1，…，vm）），其中（v1，…，vm）是→−f的基础，对于每个a∈e，函数f:e→f在iff上是可微的，每个fi在a上是可微的，并且

df（a）（u）=df1（a）（u）v1+····+dfm（a）（u）vm，

对于每一个u∈→−e。

我们现在考虑的情况是，e是一个有限的直接和。给定赋范仿射空间e=（e1，a1）····（en，an）和赋范仿射空间f，给定e的任意开子集a，对于任意c=（c1，…，cn）∈a，我们定义连续函数icj:ej→e，这样

.

对于任何函数f:a→f，我们都有函数f icj:ej→f，在（icj）−1（a）上定义，其中包含cj。如果d（）存在，我们称它为f w.r.t.的偏导数，它的jth参数在c.我们也用djf（c）表示这个导数。注意d

这个概念是对定义38.4中定义的概念的概括。实际上，当e的尺寸为n，并且选择了一个帧（a0，（u1，…，un）），我们可以写e=（e1，a1）·····（en，an），对于一些明显的（ej，aj）（正如在命题38.9之后所解释的那样），然后

djf（c）（λuj）=λjf（c），

这两个概念是一致的。

对于仿射空间ei的有限积e1×······×en，icj和djf（c）的定义也很有意义。我们将免费使用JF（C）而不是DJF（C）。

定义38.4中引入的jf（c）概念实际上是矢量导数的概念，而djf（c）是对应的线性映射。虽然可能令人困惑，但我们确定了这两个概念。以下命题成立。

提案38.11.给定赋范仿射空间e=（e1，a1）·····（en，an），赋范仿射空间f，给定e的任意开子集a，对于任意函数f:a→f，对于每个c∈a，如果df（c）存在，则每个djf（c）存在，并且

df（c）（u1，…，un）=d1f（c）（u1）+····+dnf（c）（un）

对于每一个ui∈ei，1≤i≤n，有限积e1×·······························


 

38.2。雅可比矩阵

证明。→–→因为每一个c∈e都可以写成c=a+∈c–→−a，其中a=（a1，…，an），定义fa:e f，这样，fa（u）=f（a+u），对于每一个u e，明确地说，d），我们就可以处理其域为向量空间e的函数fa。这个命题是一个简单的应用。定理38.6的n。

## 38.2雅可比矩阵

如果e和f都是有限维的，对于e的任何帧（a0，（u1，…，un））和f的任何帧（b0，（v1，…，vm）），每个函数f:e→f都由m函数fi:e→r决定。

(or *fi* : *E* → C), where *f*(*x*) = *b*0 + *f*1(*x*)*v*1 + ··· + *fm*(*x*)*vm,*

for every *x* ∈ *E*. From Proposition 38.1, we have

D*f*(*a*)(*uj*) = D*u**jf*(*a*) = *∂jf*(*a*)*,*

and from Proposition 38.10, we have

D*f*(*a*)(*uj*) = D*f*1(*a*)(*uj*)*v*1 + ··· + D*fi*(*a*)(*uj*)*vi* + ··· + D*fm*(*a*)(*uj*)*vm,*

that is,

D*f*(*a*)(*uj*) = *∂jf*1(*a*)*v*1 + ··· + *∂jfi*(*a*)*vi* + ··· + *∂jfm*(*a*)*vm.*

Since the *j*-th column of the *m*×*n*-matrix representing D*f*(*a*) w.r.t. the bases (*u*1*,...,un*) and (*v*1*,...,vm*) is equal to the components of the vector D*f*(*a*)(*uj*) over the basis (*v*1*,...,vm*), the linear map D*f*(*a*) is determined by the *m*×*n*-matrix *J*(*f*)(*a*) = (*∂jfi*(*a*)), (or *J*(*f*)(*a*) =

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image034.gif)

or                                  ![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image036.gif)

This matrix is called the *Jacobian matrix* of D*f* at *a*. When *m* = *n*, the determinant, det(*J*(*f*)(*a*)), of *J*(*f*)(*a*) is called the *Jacobian* of D*f*(*a*). From a previous remark, we know

这个行列式实际上只依赖于df（a），而不是特定的基。然而，偏导数给出了计算它的方法。

当e=rn，f=rm时，对于任何函数f:rn→rm，都很容易计算偏导数）。我们简单地把函数fi:rn→r当作它的j-次参数的函数，剩下的不变，然后按照定义38.1计算导数，也就是通常的导数。

例38.2。例如，考虑函数f:r2→r2，定义如下：

f（r，θ）=（r cos（θ），r sin（θ））。

那么，我们有了

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.gif)

雅可比（行列式）的值为Det（j（f）（r，θ））=r。

如果e=r（或e=c），对于任何函数f:r→f（或f:c→f），则

df（a）的雅可比矩阵是列向量。实际上，这个列向量只是d1f（a）。然后，对于每一个λ∈r（或λ∈c），

df（a）（λ）=λd1f（a）。

这一情况非常重要，足以证明有一个定义。

定义38.5.给定函数f:r→f（或f:c→f），其中f是赋范仿射空间，向量

df（a）（1）=d1f（a）

我们通常用d1f（a）的雅可比矩阵d1f（a）来识别df（a），它是d1f（a）对应的列向量。通过滥用符号，我们还让df（a）表示向量df（a）（1）=d1f（a）。

当e=r时，物理解释为f定义了一条（参数）曲线，它是一些粒子在rm中运动的轨迹，是时间的函数，向量d1f（a）是运动粒子在t=a时的速度f（t）。

把函数f[a，b]→f从一个闭区间[a，b]r考虑到一个赋范仿射空间f，及其在[a，b]上的导数df（a），通常是有用的，即使[a，b]没有打开。在这种情况下，与实值函数一样，我们在a处定义右导数d1f（a+），在b处定义左导数d1f（b-），并假定它们存在。

例38.3。

\1.    当a=（0,1）和f=r3时，函数f:（0,1）→r3定义r3中的（参数）曲线。如果f=（f1，f2，f3），其雅可比矩阵在a∈r处为

.

见图38.3。

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.gif)

图38.3：红色空间曲线f（t）=（cos（t），sin（t），t）。

速度矢量用蓝色箭头表示。

\2.    当e=r2和f=r3时，函数_:r2→r3定义参数曲面。式中：_=（f，g，h），其雅可比矩阵a∈r2为

.

见图38.4。雅可比矩阵是。第一列是

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image006.gif)

图38.4：参数曲面x=u，y=v，z=u2+v2。

向量与粉红色的U方向曲线相切，而第二列是与蓝色的V方向曲线相切的向量。

\3.    当e=r3，f=r时，对于函数f:r3→r，a∈r3处的雅可比矩阵为

.

一般来说，当f:rn→r时，a∈rn处的雅可比矩阵是行向量。

.

它的转置是一个称为f在a处的梯度的列向量，用梯度f（a）或f（a）表示。那么，对于任何v∈rn，注意

D

梯度f（a）和v的标量积。

例38.4。考虑二次函数f:rn→r，由

f（x）=x>ax，x∈rn，

其中a是实n×n对称矩阵。我们声称

dfu（h）=2u>ah，表示所有u，h∈rn。

因为a是对称的，我们有

F（U+H）=（U>+H>）A（U+H）

=u>au+u>ah+h>au+h>ah=u>au+2u>ah+h>ah，

所以如果我们写的话

对于h/∈0，其中k k是2-范数，根据柯西-施瓦兹，我们有

，

这表明lim=0。因此，

dfu（h）=2u>ah，对于所有u，h∈rn，

如要求。该公式表明，f在u处的梯度fu由下式得出：

fu=2au.

作为第一个推论，我们得到了形式函数的梯度。

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.gif)

其中a是对称的n×n矩阵，b是某个向量b∈rn。由于线性函数的导数是它本身，我们得到

dfu（h）=u>ah−b>h，

f的梯度由

fu=au−b.

作为第二个推论，我们得到了函数的梯度。

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.gif)

这是最小二乘问题中要最小化的函数，其中a是m×n矩阵。

我们有f（x）=x>a>ax−x>a>b−b>ax+b>b=x>a>ax−2b>ax+b>b，

因为常数函数的导数是0，线性函数的导数是它本身，我们得到

dfu（h）=2u>a>ah−2b>ah。

因此，f的梯度由

fu=2a>au−2a>b。

当e、f和g有有限维时，（a0，（u1，…，up））是e的仿射框架，（b0，（v1，…，vn））是f的仿射框架，（c0，（w1，…，wm））是g的仿射框架，如果a是e的开放子集，b是f的开放子集，对于任何函数f:a→f和g:b→g，这样f（a）b，对于任意a∈a，假设b=f（a），h=g_f，如果df（a）存在且dg（b）存在，根据定理38.6，雅可比矩阵j（h）（a）=j（g_f）（a）w.r.t.基（u1，…，up）和（w1，…，wm）是雅可比矩阵j（g）（b）w.r.t.基（v1，…，vn）和（w1，…，wm）和j（f）（a）W.R.T.底座（U1，…，向上）和（V1，…，VN）：

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image012.gif)

或

.

因此，我们有了熟悉的公式

.

给定有限维的两个赋范仿射空间e和f，给定e的开子集a，如果函数f:a→f在a∈a上可微，则其雅可比矩阵是定义良好的。

应该警告一个人，相反的说法是错误的。有这样的函数，所有的偏导数都存在于某个a∈a上，但是函数在a上是不可微的，

甚至不连续。例如，考虑函数f:r2→r，定义为f（0,0）=0，以及

如果（x，y）=（06，0）。

对于任何u=06，我们有

，

以便

D

因此，所有u=06都存在duf（0,0）。另一方面，如果存在df（0,0），它将是一个线性映射df（0,0）：r2→r，由一个行矩阵（αβ）表示，我们将得到duf（0,0）=df（0,0）（u）=αh+βk，但duf（0,0）的显式公式不是线性的。事实上，函数f在（0,0）不是连续的。例如，在抛物线上

当我们接近抛物线的原点时，极限是

实际上，f（0,0）=0。

然而，对于df（a）存在的偏导数有充分的条件，即偏导数的连续性。

如果f在a上是可微的，那么f定义了函数d）。结果表明，a上偏导数的连续性是df在a上存在和连续的一个充要条件。

如果f:[a，b]→r是一个函数，它在[a，b]上是连续的，在[a，b]上是可微的，那么有一些c的a<c<b，这样

F（B）−F（A）=（B−A）f0（C）。

这个结果被称为中值定理，是罗尔定理的推广，它对应于f（a）=f（b）的情况。

不幸的是，向量值函数的中值定理失败了。例如，函数f:[0,2π]→r2由

F（t）=（成本，SINT）

f（2π）−f（0）=（0,0），但其导数f0（t）=（−sint，cost）不会在（0,2π）中消失。

如果我们考虑一个不等式（上界）而不是一个等式，中值定理对向量值函数的适当推广是可能的。这个中值定理的推广版本在证明微分学的几个主要结果中起着重要作用。

如果e是仿射空间（在r或c上），给定任意两点a，b∈e，闭段[a，b]是所有点a+λ（b−a）的集合，其中0≤λ≤1，λ∈r，而开段（a，b）是所有点a+λ（b−a）的集合，其中0<λ<1，λ∈r。

引理38.12。设e和f为两个赋范仿射空间，设a为a上的开子集，设f:a→f为a上的连续函数，给定e中任意a∈a和任意h=06，如果闭段[a，a+h]包含在a中，如果f:a→f在开段（a，a+h）的每一点上都是可微的，并且

sup kdf（x）k≤m，

X∈（A，A+H）

对于某些m≥0，则

k f（a+h）−f（a）k≤mkhk。

作为推论，如果L：→−E→→−F是一个连续的线性映射，那么

k f（a+h）−f（a）−l（h）k≤mkhk，

其中m=supx∈（a，a+h）kdf（x）−lk。

上面的引理有时被称为“中值定理”，引理38.12可以用来表示下面的重要结果。

定理38.13。给定两个赋范仿射空间e和f，其中e是有限维n，其中（a0，（u1，…，un））是e的一个框架，给定e的任何开子集a，给定任何函数f:a→f，导数d在iff上定义并连续，所有的偏导数）在a上定义并连续。j，1≤j≤n。

作为推论，如果是有限维m，并且（b0，（v1，…，vm））是f的框架，那么导数df:a→l（e；f）在iff上定义并连续，每个偏导数在a上定义并连续，对于所有i，j，1≤i≤m，1≤j≤n。

定理38.13给出了开集上函数导数的存在性和连续性的充分必要条件。应当指出，定理38.13的更一般的版本成立，假设e=（e1，a1）·······（en，an），或e=e1×······×en，并使用在命题38.11之前引入的更一般的偏导数djf。

定义38.6.给定两个赋范仿射空间e和f，以及e的开子集a，我们认为函数f:a→f是a上的类c0，或是if f上的c0函数是a上的连续函数，我们认为f:a→f是a上的类c1，或是a上的c1函数，并且是a上的连续函数。


 

38.3。隐函数和反函数定理

由于开集上导数的存在意味着连续性，所以C1函数当然是一个C0函数。定理38.13给出了函数f为C1函数（当e为有限维时）的一个必要和充分条件。很容易证明C1函数的组成（在适当的开集上）是C1函数。

# 38.3隐函数和反函数定理

给定三个赋范仿射空间e、f和g，给定函数f:e×f→g，给定任意c∈g，方程可能发生

f（x，y）=c

具有这样的性质：对于某些开放集a e和b f，有一个函数g:a→b，这样f（x，g（x））=c，

对于所有的x∈a，这样的情况通常是非常罕见的，但如果某个解（a，b）∈e×f使f（a，b）=c已知，在一定条件下，对于某些小的开集a e含有a和b f含有b，存在唯一的g:a→b，这样

f（x，g（x））=c，

对于所有x∈a，都可以显示。在一定条件下，还可以证明G是连续的，且是可微的。这样一个定理，称为隐函数定理，可以证明。根据Schwartz[147]的规定，我们在下面陈述了该结果的一个版本。证明（见Schwartz[147]）相当复杂，并使用不动点定理在完全度量空间中收缩映射。其他证据见lang[108]和Cartan[34]。

定理38.14。设e，f，和g，为赋范仿射空间，设Ω为e×f的开子集，设f:Ω→g为定义在Ω上的函数，设（a，b）∈Ω，设c∈g，并假定f（a，b）=c。如果下列假设成立

*(1)*    功能F：Ω→G在Ω上是连续的；

*(2)*    f是一个完全赋范仿射空间（g也是）；

存在于每（x，y）∈Ω，并且是连续的；

是，和的双射体；

然后以下属性保持不变：

*(a)*     存在一些含有a的开子集a e和一些含有b的开子集b f，这样a×bΩ，并且对于每个x∈a，方程f（x，y）=c有一个单解y=g（x），因此，有一个唯一的函数g:a→b，这样f（x，g（x））=c，对于所有x∈a；

*(b)*     功能G:A→B是连续的。

如果我们也假设

（5）导数df（a，b）存在；然后

*(c)*     衍生的dg（a）存在，并且

d）；

如果另外

也是连续的（因此，考虑到（3），F是Ω上的C1）；

然后

*(d)*     衍生的dg:a→l（→−e；→−f）是连续的，并且

D

对于所有x∈a。

隐函数定理在变分法中起着重要作用。我们现在考虑另一个非常重要的概念，即（局部）差异同构。

定义38.7.给定两个拓扑空间e和f，以及e的开子集a，我们认为函数f:a→f是a到f的局部同态，如果对于每一个a∈a，都有一个开集u a包含a和一个开集v包含f（a），这样f是u到v=f（u）的同态。如果b是f的开放子集，我们说f:a→f是a到b的（全局）同态，如果f是a到b=f（a）的同态。如果e和f是赋范仿射空间，我们说f:a→f是a到f的局部差分形式，如果对于每个a∈a，都有一个包含a的开集u a和一个包含f（a）的开集v，这样f是u到v的双射，f是u上的c1函数，f−1是v=f上的c1函数。（U）。我们说f:a→f是A到B的一个（全局）不同同态，如果f是A到B=f（a）的同态，f是A上的C1函数，f−1是B上的C1函数。

请注意，局部差异同构是局部同胚。另外，由于命题38.8，如果f是a上的差同态，那么df（a）是每个a∈a的线性同构，可以证明以下定理。事实上，使用定理38.14有一个相当简单的证明；见Schwartz[147]、Lang[108]、Cartan[34]和Abraham和Marsden[1]。

38.3。隐函数和反函数定理

定理38.15。设e和f为完全赋范仿射空间，设a为e的开子集，设f:a→f为a上的c1函数，其性质如下：

*(1)*    对于每一个a∈a，如果df（a）是一个线性同构（这意味着df（a）和（df（a））-1都是线性的和连续的），那么存在一些包含a的开子集u a和一些包含f（a）的f的开子集v，这样f是从u到v=f（u）的一个差异。此外，

df−1（f（a））=（df（a））−1.

对于a的每个邻域n，其图像f（n）是f（a）的邻域，对于a中心的每个开球u a，其图像f（u）包含一些中心f（a）的开球。

*(2)*    如果df（a）对每一个a∈a都可逆，那么b=f（a）是f的开子集，f是a到b的局部差分同态。此外，如果f是内射的，那么f是a到b的差分同态。

定理38.15的（1）部分常被称为“（局部）反函数定理”，它在流形和（一般）微分方程的研究中起着重要作用。

如果e和f都是有限维的，并且选择了一些帧，则df（a）的可逆性等于雅可比行列式det（j（f）（a））不为空的事实。df（a）只是内射的或者只是Surjective的情况对于使用隐式定义定义定义流形也很重要。

定义38.8.设e和f是赋范仿射空间，其中e和f是有限维（或e和f都是完备的），a是e的开子集。对于任何a∈a，c1函数f:a→f是在a if df（a）上的浸入。c1函数f:a→f是中频df（a）上的一个浸没。C1函数f:a→f是对a（resp.如果df（a）是可注射的（resp.（主观性）对于每一个a∈a。

当e和f是Dim（e）=n和Dim（f）=m的有限维时，如果m≥n，则f是一个浸入式iff，雅可比矩阵j（f）（a）对所有a∈e都具有满秩n，如果n≥m，则f是雅可比矩阵j（f）（a）的一个子形式iff，对于所有a∈e都具有满秩m。例如，f:r→r2由f（t）=（cos（t），sin（t））定义的是浸入式，因为

所有t的排名为1。另一方面，f:r→r2由

f（t）=（t2，t2）不是浸没，因为t=0时消失。见图38.5。

投影图f:r2→r给出了一个淹没的例子，其中f（x，y）=x，因为。

可以显示以下结果。

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image015.gif)

图38.5：图（i）是将r浸入由f（t）=（cos（t），sin（t））给出的r2中。图（ii.），参数曲线f（t）=（t2，t2），不是浸入，因为切线在原点处消失。

提案38.16。设a为rn的开放子集，设f:a→rm为函数。对于每一个a∈a，f:a→rm是iff处的一个潜水器，存在一个包含a的a的开放子集u，一个开放子集w rn−m，以及一个不同的同构m_：u→f（u）×w，这样，

F=π1_

其中π1:f（u）×w→f（u）是第一个投影。等价地，（f_−1）（y1，…，ym，…，yn）=（y1，…，ym）。

γ

U a/f（U）×W

nnnnn和π1

F（U）令吉

此外，f下的每个开放子集的图像都是f的开放子集（cn和cm的结果相同）。

提案38.17。设a为rn的开放子集，设f:a→rm为函数。

对于每一个a∈a，f:a→rm是一个浸入式iff，存在一个开放的u子集。

38.4。切线空间和微分

a包含a，包含f（a）的开子集v，其中f（u）v，包含0的开子集w，其中w rm−n，以及差分异构体，其中：

_f=in1，

其中in1:u→u×w是注入图，使得in1（u）=（u，0），或等效地，（_f）（x1，…，xn）=（x1，…，xn，0，…，0）。

f

u a/f（u）v

mmminmm1mmmm&_

U×W

（相同的结果适用于cn和cm）。

# 38.4切线空间和微分

在本节中，我们将简要讨论导数概念的几何解释。我们考虑由可微函数定义的点集。这是（微分）流形概念的一个特例。

给定两个赋范仿射空间e和f，设a为e的开子集，设f:a→f为函数。

定义38.9.给定f:a→f，其图（f）是所有点（f）=（x，y）∈e×f x∈a，y=f（x）的集合。

如果在a上定义df，我们就说_（f）是方程y=f（x）的e×f的微分子流形。

应该注意，这是一种非常特殊的微分流形。

例38.5。如果e=r，f=r2，则f=（g，h），其中g:r→r和h:r→r，

（f）是方程式y=g（x），z=h（x）的r3曲线。当e=r2且f=r时，_（f）是式z=f（x，y）的r3中的曲面。

我们现在以一种非常普遍的方式定义仿射切空间的概念。接下来，我们将看到它对流形_（f）的意义，如定义38.9所示。

定义38.10.给定一个范数仿射空间e，给定e的任意非空子集m，给定任意点a∈m，如果m中存在一个点的序列（a n）n∈n收敛到a，且一个序列（λn）n∈n，且λi∈r和λn≥0，则称向量u∈→−e在a到m处相切，从而使该序列（λn（a−a））n∈n收敛于u。

在a到m处相切的所有向量的集合称为a到m处的相切向量族，在a到m处，u属于相切向量族的形式a+u的e的所有点的集合称为a到m处的仿射相切族。

显然，0总是相切的，如果u是相切的，那么每个λu也是相切的，对于λ∈r，λ≥0。如果u=06，则序列（λn）n∈n必须趋向于+∞。我们有以下建议。

提案38.18。设e和f为两个赋范仿射空间，设a为e的开子集，设a∈a，设f:a→f为函数。如果存在→−×d→−f（a），则（a，f（a））到_的切向量族是e f的子空间ta（），由条件（方程式）定义。

（u，v）∈ta（）iff v=df（a）（u），

（a，f（a））到_的仿射切线族是e×f的仿射变体ta（_），由条件（方程式）定义。

（x，y）∈ta（）iff y=f（a）+df（a）（x−a），

式中，_是f的图形。

证据其实相当简单。我们有Ta（）=A+Ta（），并且由于Ta（）是→−E×→−F的子空间，所以集合Ta（）是仿射变体。因此，点（a，f（a））上的仿射切线空间是族对象、直线、平面等。

举例来说，当e=r2和f=r时，方程式z=f（x，y）表面（a，b，c）点处的仿射切线平面由方程式定义。

.

如果e=r和f=r2，方程式y=g（x），z=h（x）曲线的（a，b，c）处的切线由方程式定义。

.

因此，导数和偏导数作为切线空间具有理想的几何解释。当然，为了正确地处理这个问题，我们真的需要更深入地研究（微分）流形。

我们现在简单地考虑二阶和高阶导数。

# 38.5二阶及更高阶导数

给出了两个赋范仿射空间e和f，以及e的一些开子集a，如果对每一个a∈a定义了df（a），那么我们就得到了一个映射df:a→l（→−e；→−f）。由于L（→−e；→−f）是赋范向量空间，如果df存在于含有a的a的开子集u上，我们可以考虑取df在a∈a处的导数，如果d（df）（a）存在于每个a∈a，我们得到一个映射

38.5。二阶和高阶导数

d）），其中d2f（a）=d（df）（a），对于每个a∈a。如果d2f（a）存在，则对于每个u∈e，

d.

从36.61号提案中回忆起，从L（→−e；→−f）×到→−f的地图应用程序定义为，对于每一个L∈l（→−e；→−f），对于每一个V∈→−e，

约（l，v）=l（v）

是一个连续双线性映射。因此，特别是给定一个固定的→→→→→−v∈→−e，线性映射appv:l（e；f）f，定义为appv（l）=l（v）是一个连续映射。

还记得，从命题38.7，如果h:a→g是一个函数，使得dh（a）存在，k:g→h是一个连续的线性映射，那么，d（k_h）（a）存在，并且

k（d h（a）（u））=d（k_h）（a）（u），

即k（du h（a））=du（k_h）（a），

将这两个事实应用于h=df和k=appv，我们得到

du（df）（a）（v）=du（appv df）（a）。

但是（appv df）（x）=df（x）（v）=dvf（x），对于每x∈a，也就是说，appv df=dvf在a上。

所以，我们有

du（df）（a）（v）=du（dvf）（a）

由于d2f（a）（u）=du（df）（a），我们得到

d2f（a）（u）（v）=du（dvf）（a）。

因此，当d2f（a）存在时，du（dvf）（a）存在，并且

d2f（a）（u）（v）=du（dvf）（a），

对于所有u，v∈→−e，我们也用d2u、vf（a）或du dvf（a）表示du（dvf）（a）。

从36.60号提案中回顾，从l2（→−e，→−e；→−f）到l（→−e；l（→−e；→−f））的映射定义为，g 7→Фiff代表每个g∈l2（→−e，→−e；→−f），

⑨（u）（v）=g（u，v）

是向量空间的同构，因此，我们将d→→→−2f（a）∈l（→−e；l（→−e；→−f））看作2（e，e；f）中的连续双线性映射，我们将写d2f（a）（u，v），而不是d2f（a）（u）（v）。

然后，上述讨论可以总结为当定义d2f（a）时，我们有

d2f（a）（u，v）=dudvf（a）。

当e有有限维且（a0，（e1，…，en））是e的框架时，我们表示dejdeif（a）

by），当i=6J时，我们表示d

利用引理38.12，可以显示出施瓦兹的以下重要引理。给出双线性映射f：→−e×→−e→→−f，回想一下f是对称的，如果

f（u，v）=f（v，u）

对于所有u，v∈→−e。

引理38.19。（施瓦兹引理）给定两个赋范仿射空间e和f，给定e的任意开子集→→→→→–−a，给定任意f:a→f，对于每个a∈a，如果d2f（a）存在，那么d2f（a）∈

l2（e，e；f）是一个连续对称双线性映射。作为推论，如果e是有限维n，（a0，（e1，…，en））是e的框架，我们有

.

注：上述引理有一个变化，它不假定d2f（a）的存在，而是假定dudvf和dvduf存在于包含a的开子集上，并且在a处是连续的，因此dudvf（a）=dvduf（a）。这只是一个不同的结果，并不意味着引理38.19，也不是引理38.19的结果。

当e=r2时，只有）和）不足以保证d2f（a）的存在。

当有限维n和（a0，（e1，…，en））的e是e的一个框架时，如果d2f（a）存在，对于→−e中的每个u=u1e1+······+unen和v=v1e1+·······+vnen，因为d2f（a）是对称双线性形式，我们有

D

可以用矩阵形式写为：

D

38.5。二阶和高阶导数

其中u是表示u的列矩阵，v是表示v的列矩阵，在帧上（a0，（e1，…，en））。

上述对称矩阵在a称为f的Hessian。如果f本身是有限维的，并且（b0，（v1，…，vm））是f的帧，那么f=（f1，…，fm）和每个分量

d2f（a）（u，v）（1≤i≤m）的d2f（a）i（u，v）可写为

D

因此，我们可以用m个对角块构成的mn×mn矩阵（即上述Hessians）和m次的行矩阵（u>、…、u>）和m次的列矩阵来描述d2f（a）（u，v）。

我们现在简要地说明如何定义高阶导数。设m≥2。给定函数f:a→f，对于任意a∈a，如果导数d if存在于a上，对于所有i，1≤i≤→lm−1，通过归纳，d−−−−→→−m−1f可以被视为连续函数dm−1f:a m−1（em−1；f），并且我们定义

dmf（a）=d（dm−1f）（a）。

然后，可以用lm中的连续m-多行图（e−→m；→−f）来识别dmf（a）。然后我们可以证明（正如我们之前所做的），如果定义了dmf（a），那么dmf（a）（u1，…，um）=du1…dumf（a）。

当有限维数n和（a0，（e1，…，en））的e为e的框架时，如果存在dmf（a），对于每个j1，…，jm∈1，…，n，我们用表示dejm…dej1f（a）

.

给定m-多行映射f∈lm（e−→m；→−f），回想一下f是对称的if

f（uπ（1），…，uπ（m））=f（u1，…，um）

对于所有的u1，…，um∈→−e，和所有的置换πon 1，…，m。接下来，施瓦兹引理的推广成立。

引理38.20。给出了两个赋范仿射空间e和f，给出了e的任意开子集a，给出了任意f:a→f，对于每个a∈a，对于每个m≥1，如果dmf（a）存在，那么dmf（a）∈lm（e−→m；→−f）是连续对称的m-多线性映射。作为推论，如果e是有限维n，（a0，（e1，…，en））是e的框架，我们有

，

对于每个j1，…，jm 1，…，n，对于每个置换πon 1，…，m。

如果e是有限维n，并且（a0，（e1，…，en））是e的帧，那么dmf（a）是对称m-多行映射，我们有

D

其中，对于任意m向量，j在所有函数j：1，…，m→1，…，n范围内。

uj=uj，1e1+····+uj，nen.

将C1函数的概念推广到cm函数的概念，并将定理38.13推广。

定义38.11.给定两个赋范仿射空间e和f，以及e的开子集a，对于任何m≥1，我们称函数f:a→f在a或cm函数上是类cm，如果dkf存在，并且在a上是连续的，对于每k，1≤k≤m。我们称f:a→f在a或c∞-函数上是类c∞。dkf存在，并且每k≥1在a上连续。c∞-函数（在a上）也称为光滑函数（在a上）。a和b之间的cm差分形式f:a→b（其中a是e的开放子集，b是b的开放子集）是a和b=f（a）之间的双射，因此f:a→b及其逆f−1:b→a都是cm函数。

等价地，f是a上的cm函数，if f是a上的c1函数，df是a上的cm−1函数。

我们有以下定理，给出了f对a上的cm函数的一个充分必要的条件。对e=（e1，a1）···（en，an）也成立的情况的推广。

定理38.21。给定两个赋范仿射空间e和f，其中e是有限维n，其中（a0，（u1，…，un））是e的框架，给定e的任何开子集a，给定任何函数，导数dmf是iff上的cm函数，每个偏导数d）在a上定义并连续，对于所有k，1≤k≤m，所有的j1，…，jk∈1，…，n。作为推论，如果f是有限维p，

38.6。泰勒公式，法阿·迪布鲁诺公式`

并且（b0，（v1，…，vp））是f的一个框架，导数dmf在iff上定义并连续。

K

每个偏导数d）在a上定义并连续，对于所有k，1≤k≤m，对于所有i，1≤i≤p，以及所有j1，…，jk∈1，…，n。

当e=r（或e=c）时，对于任意a∈e，dmf（a）（1，…，1）是→−f中的向量，称为mth阶向量导数。在m=1的情况下，我们通常用向量dmf（a）（1，…，1）来标识多行映射dmf（a）。还可以引入一些符号约定来简化高阶导数的符号，并对这些约定进行了简要的讨论。

回想一下，当e是有限维n，并且（a0，（e1，…，en））是e的帧时，dmf（a）是对称的m-多行映射，我们有

D

J 1

其中，对于任意m向量，j在所有函数j：1，…，m→1，…，n范围内。

uj=uj，1e1+····+uj，nen.

然后我们可以将与相同变量xjk对应的xjk的各种出现进行分组，从而得出符号

，

式中α1+α2+····+αn=m。

如果我们简单地用α表示（α1，…，αn），那么我们表示

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image017.gif)

通过

αf，或

如果α=（α1，…，αn），我们让α=α1+α2+····+αn，α！=α1！···αn！，如果h=（h1，…，hn），我们表示。

在下一节中，我们将调查泰勒公式的各种版本。

# 38.6泰勒公式，法阿迪布鲁诺公式

我们讨论了泰勒公式的几个版本，没有证据。每个版本所需的假设越来越强。第一个版本可以看作是导数概念的概括。给出了一个m-线性映射f:e−→m→→−f，对于任意向量h∈→−e，我们将其缩写为

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image019.gif)

按F（hm）。下面给出的泰勒公式的版本有时被称为泰勒-杨公式。

定理38.22。（Taylor–Young）给定两个赋范仿射空间e和f，对于任何开子集a e，对于任何函数f:a→f，对于任何a∈a，如果dkf存在于a中，对于所有k，1≤k≤m−1，并且如果dmf（a）存在，那么我们有：

，

对于任意h，如a+h∈a，并且在哪里。

上述泰勒公式可用于研究实值函数的相对极大值（或极小值）。它还用于研究曲线和曲面的局部特性。

泰勒公式的下一个版本可以看作是引理38.12的推广。它有时被称为泰勒公式与拉格朗日余数或广义中值定理。

定理38.23。（广义中值定理）设e和f为两个赋范仿射空间，设a为→−e的开子集，设f:a→f为a上的函数，给定a∈a和e中任意h=06，如果闭段[a，a+h]包含在a中，dkf存在于a中，1≤k≤m，dm+1f（x）存在于a中t开口段的每个点x]a，a+h[，和

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image021.gif)

对于某些m≥0，则

.

作为推论，如果l:e−−m→+1→→−f是一个连续的（m+1）-线性图，那么

，

其中m=maxx∈（a，a+h）kdm+1f（x）−lk。

上述定理有时是在稍微强一点的假设下表述的，即f是a上的cm函数。如果f:a→r是实值函数，则定理38.23可以稍加改进。这个版本通常被称为泰勒-麦克劳林公式。

38.6。泰勒公式，法阿·迪布鲁诺公式`

定理38.24。（泰勒-麦克劳林）设e为赋范仿射空间，设a为→−e的开子集，设f:a→r为a上的实值函数，给定a∈a和e中任意h=06，如果闭段[a，a+h]包含在a中，如果dkf存在于a中，1≤k≤m，dm+1f（x）存在于开口段的每个点x]a，a+h[，则有一些θ∈r，其中0<θ<1，这样

.

我们还提到了“数学文化”，在实值函数的情况下，一个带有整数余数的版本。这通常被称为带积分余数的泰勒公式。

定理38.25。（带积分余数的泰勒公式）设e为赋范仿射空间，设a为→−e的开子集，设f:a→r为a上的实值函数，给定e中任意a∈a和任意h=06，如果闭段[a，a+h]包含在a中，如果f是a上的cm+1-函数，则我们得到

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image023.gif)

上述公式的优点是给出了一个显式余数。现在我们简单地研究一下E是有限维n的情况，（a0，（e1，…，en））是e的一个框架。在这种情况下，我们得到一个更明确的表达式。

![img](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image025.gif)

涉及泰勒公式的所有版本，其中根据惯例，d0f（a）（h0）=f（a）。如果h=h1e1+·····+hnen，那么我们有

，

使用第38.5节末尾引入的缩写符号，也可以写成

.

上述符号的高级是，它与n=1时使用的符号相同，即e=r（或e=c）时使用的符号相同。实际上，在这种情况下，泰勒-麦克劳林公式如下：

，

对于某些θ∈r，其中0<θ<1，其中dkf（a）是f在a处的k阶导数的值（因此，正如我们已经说过的多次，这是k阶矢量导数，因为f=r，它只是一个标量）。

在上述公式中，假设f:[a，a+h]→r是[a，a+h]上的cm函数，dm+1f（x）存在于每x∈（a，a+h）上。

泰勒公式有助于研究曲线和曲面的局部性质。在曲线的情况下，我们考虑一个函数f:[r，s]→f，从r的闭区间[r，s]到一些仿射空间f，导数dkf（a）（hk）对应于向量hkkf（a），其中dkf（a）是f在a处的第k个矢量导数（实际上是dkf（a）（1，…，1）），并且对于任何a∈（r，s），定理38.22得出以下公式：

，

对于任意h，如a+h∈（r，s），并且其中lim

在函数f:rn→r的情况下，可以方便地得到泰勒-杨公式和泰勒-麦克劳林公式的梯度和黑森公式。回想一下，f在a∈rn处的梯度f（a）是列向量。

，

而f0（a）（u）=df（a）（u）=f（a）·u，

对于任何u∈rn（其中·表示内积）。a∈rn处f的Hessian矩阵2f（a）是n×n对称矩阵。

，

我们有

d2f（a）（u，v）=u>2f（a）v=u·2f（a）v=2f（a）u·v，

38.7。向量场，协变导数，方括号

对于所有的u，v∈rn。然后，我们有下面三个泰勒-杨的公式2级：

.

带LIM

我们应该记住，只有第一个公式是内在的（即，不依赖于基础的选择），而其他两个公式则取决于基础，而内部产品则取决于Rn。作为练习，读者应该为泰勒-麦克劳林2阶公式编写类似的公式。

泰勒公式的另一个应用是推导一个公式，该公式给出两个函数组成的mth导数，通常称为“fa`a di Bruno's公式”。该公式在处理样条曲线和曲面的几何连续性时很有用。

提案38.26。给定任意赋范仿射空间e，对于任意函数f:r→r和任意函数g:r→e，对于任意a∈r，让b=f（a），f（i）（a）=dif（a）和g（i）（b）=dig（b），对于任意m≥1，如果f（i）（a）和g（i）（b）存在于所有i，1≤i≤m，则（g f）（m）（a）=dm（g f）（a）存在并由以下公式：

.

当m=1时，上述公式简化为熟悉的公式。

（g_f）0（a）=g0（b）f0（a）

对于m=2，我们有

（g_f）（2）（a）=g（2）（b）（f（1）（a））2+g（1）（b）f（2）（a）。

# 38.7向量场、协变导数、方括号

在这一部分中，我们简要地考虑向量场和向量场的协变导数。这种导数在连续力学中起着重要作用。给定一个赋范仿射空间（e，→−e），（e，→−e）上的向量场是一个函数x:e→→−e。直观地说，向量场为e中的每一点分配一个向量。这些向量可以是力、速度、加速度等。

给定两个向量场x，y在e的某个开子集Ω上定义，对于每一点a∈Ω，我们要定义x相对于y在a的导数。这是一种方向导数，当我们沿着y移动时给出x的变化，我们用dy x（a）表示。导数dy x（a）的定义如下。

定义38.12.设（e，→−e）为赋范仿射空间。给定e的任何开子集Ω，给定在Ω上定义的任意两个向量场x和y，对于任何a∈Ω，协变导数

x w.r.t.的（或Lie导数）。a处的向量场y，用dy x（a）表示，是极限（如果存在）

，

哪里

如果y是一个常量向量场，则立即验证映射

x 7→dy x（a）

是一个称为向量场x导数的线性映射，用dx（a）表示。如果f:e→r是一个函数，我们将dy f（a）定义为极限（如果存在）。

，

式中U=t∈r a+ty（a）∈Ω，t 6=0。它是f w.r.t.的方向导数，a处的向量场y，也常用y（f）（a）或y（f）a表示。

从现在开始，我们假设所有的向量场和所有考虑的函数都是光滑的（c∞）。平滑c∞-函数f:Ω→r的集合c∞（Ω）是一个环。给定一个平滑向量场x和一个平滑函数f（均大于Ω），定义向量场fx，使（fx）（a）=f（a）x（a），并立即验证它是平滑的。因此，Ω上平滑向量场的集合x（Ω）是C∞（Ω）模块。

下面的建议留作练习。结果表明，Dy x（a）是x（Ω）上的r-双线性映射，在y上是c∞（Ω）-线性的，并且满足关于x的莱布尼兹推导规则。

提案38.27。协变导数dy x（a）满足以下性质：

d（y1+y2）x（a）=dy1x（a）+dy2x（a）

dfy x（a）=f（a）dy x（a）

Dy（x1+x2）（a）=Dy x1（a）+Dy x2（a）

dy f x（a）=dy f（a）x（a）+f（a）dy x（a）

其中，x、y、x1、x2、y1、y2是Ω上的平滑向量场，f:e→r是平滑函数。

38.8。进一步阅读

在微分几何中，为了定义流形上向量场的协变导数，将上述性质作为仿射连接的公理。在许多情况下，向量场y是一些光滑曲线γ：]-η，η[→e的切向场。如果是，则以下命题成立。

提案38.28。给定一条平滑曲线γ：−η，η[→e，假设y是γ（]−η，η[）上定义的向量场，这样

，

对于γ（]-η，η[）上定义的任何向量场x，我们有

D

其中a=γ（0）。

因此，导数dy x（a）是向量场x沿曲线γ的导数，称为x沿γ的协变导数。

给定（e，→−e）的仿射帧（o，（u1，…，un）），很容易看出协变导数dy x（a）表示如下：

d.

通常，dy x（a）=6 dxy（a）。数量

[x，y]=dxy−dy x

称为向量场x和y的方括号。在微分几何中，方括号起着重要作用。在坐标方面，

.

# 38.8进一步读数

在Munkres[126]、Lang[109]、Schwartz[147]、Cartan[34]和Avez[9]中可以找到对微分学的彻底治疗。微分学技术有许多应用，特别是在曲线和曲面的几何以及一般微分几何中。为此，我们推荐Do Carmo[53，54]（两本关于这一主题的经典著作）、Kreyszig[104]、Stoker[161]、Gray[81]、Berger和Gostiaux[13]、Milnor[123]、Lang[107]、Warner[180]和Choquet Bruhat[38]。


 

